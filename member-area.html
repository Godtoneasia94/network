<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>會員專區 - 電腦工仿</title>
    <link rel="stylesheet" href="member.css"> <!-- 這裡可以加入你的CSS -->
</head>

<body>
    <header>
        <nav class="navbar">
            <a class="nav-branding">電腦工仿</a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="latest-news.html" target="_blank" class="nav-link">最新消息</a>
                </li>
                <li class="nav-item">
                    <a href="about-us.html" target="_blank" class="nav-link">關於我們</a>
                </li>
                <li class="nav-item">
                    <a href="store-location.html" target="_blank" class="nav-link">門市據點</a>
                </li>
                <li class="nav-item">
                    <a href="member-area.html" target="_blank" class="nav-link">會員專區</a>
                </li>
            </ul>

            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>

    <main>
        <section>
            <!-- 登入會員區塊 -->
            <h2>登入會員</h2> <!-- h2 標題，用於表示登入會員部分的主標題 -->
            <form id="login-form" onsubmit="handleFormSubmit(event, 'login')">
                <label for="username">使用者名稱：</label>
                <input type="text" id="username" name="username" placeholder="請輸入你的使用者名稱" required>
                <br>
                <label for="password">密碼：</label>
                <input type="password" id="password" name="password" placeholder="請輸入你的密碼" required>
                <br>
                <button type="submit">登入</button>
            </form>
        </section>

        <section>
            <!-- 註冊新會員區塊 -->
            <h2>註冊新會員</h2> <!-- h2 標題，用於表示註冊新會員部分的主標題 -->
            <form id="register-form" onsubmit="handleFormSubmit(event, 'register')">
                <label for="new-username">使用者名稱：</label>
                <input type="text" id="new-username" name="username" placeholder="請輸入你的使用者名稱" required>
                <br>
                <label for="new-password">密碼：</label>
                <input type="password" id="new-password" name="password" placeholder="請輸入你的密碼" required>
                <br>
                <label for="new-email">電子郵件：</label>
                <input type="email" id="new-email" name="email" placeholder="請輸入你的電子郵件" required>
                <br>
                <button type="submit">註冊</button>
            </form>
        </section>

    </main>
    <footer>
        <p>copyright 2024 電腦工仿. 保留所有權利.</p>
    </footer>

    <script src="member-area.js"></script>
    <script src="密碼帳號限制.js"></script>
    <script>
        function handleFormSubmit(event, actionType) {
            event.preventDefault(); // 防止頁面重載

            const form = event.target;
            const formData = new FormData(form);

            // 加入 action 用於區分註冊和登入
            formData.append('action', actionType);

            // 提交到 Apps Script 的 URL
            const actionUrl = 'https://script.google.com/macros/s/AKfycbw9DM6hR5B8zDCi-v3RIpU_i_OWqJSuwF3GBUpGaR243YH5axtIJo1X37_RnEOqpu17/exec'; // 替換成您的 Google Apps Script URL

            fetch(actionUrl, {
                method: 'POST',
                body: formData
            })
                .then(response => response.text())
                .then(result => {
                    alert(result); // 顯示註冊或登入結果
                    form.reset(); // 重置表單
                })
                .catch(error => {
                    console.error('提交錯誤:', error);
                    alert("提交失敗，請稍後再試！");
                });
        }

    </script>
</body>

</html>